#labels Featured
= Overview =

Sisrestore is a pack of shell script to provide a deepfreeze like function in linux desktop. It developed specially for Kompudini but it can run on any linux or unix system compatible with small modification or not.

*Any impact to your system is your bussines*

= Installing Sisrestore =

*Recomended* _Before install this script pack you must edit the configuration 
file. Or you can use gui installer without edit configuration file_

Installing this script is simple easy. Execute the setup.sh with "install" 
argument to install it and "uninstall" argument to uninstall it. 
Remember to run it as root (super user).

{{{
example:
	#sh ./setup.sh install
}}}

Or if you use graphical environment, you can use gui based installer instead. 
Use "gui" argument to do it.

*Attention* _GUI mode need zenity and xmessages installed._

{{{
example:
	#sh ./setup.sh gui
}}}
	
Sisrestore is automatically enabled when you install it.

= How it works =

Sisrestore provide auto restore to specified directory and the effect is just like deepfreeze in windows environment. Sisrestore will "reset" the specified directory to the same state like when you backup the directory. You can choose when Sisrestore reset your directory, and there are 3 choices for it. First is when system shutdown, second is when system started and last is on demand by clicking restore button at System Restore GUI Frontend.

Sisrestore mainly use tar to work but it utilize lzma to make compressed backup archive. Sisrestore work firstly backup the target with tar. When restore the backup Sisrestore use rm -rf to "totally" remove the target and restore the backup later. So dont forget to check your data target before you restore it.

= How to use it =

== 1. Basic usage ==

After install it you can enable Sisrestore with this command line:

{{{
	#sisrestore enable
}}}
 
With this command you enable Sisrestore to work. 

If you want to disable Sisrestore it so easy too :

{{{	
	#sisrestore disable
}}}

This command will deactive all Sisrestore init script and "delete" the backup file.

The Sisrestore will work based on wmode (work mode) value in configuration file.
You can call the on demand restore function with this command :

{{{
	#sisrestore restore
}}}

Or you can use Sisrestore GUI frontend.

== 2. Advance usage ==

There are some ugly rule for Sisrestore :
1. After change the configuration you must run this command :

{{{
	#sisrestore reload
}}}
	
2. But if you change the target directory or archive mode You must disable and re-enable Sisrestore, so it create new backup archive.

= Configuration =

You can configure Sisrestore in etc/sisrestore.conf

There are 3 point which determine Sisrestore to work.

== 1. Work mode ==

Work mode mean when the Sisrestore restore backup file.
There are three work mode :
# "Work at end" it means Sisrestore restore the backup file when you shutdown your computer.
# "Work at begin" it means Sisrestore restore the backup file when you start your computer.
# "Work on demand" it means Sisrestore restore the backup file when you ask Sisrestore to restore your archive.

By default Sisrestore use wmode 3
Set the value of wmode at configuration file with the work mode number. 
Example for work at begin mode (mode 2) :

`wmode=2`

== 2. Archive Mode ==

Archive Mode determine the backup file type.
There are two archive mode :
# Raw TAR for speed but bloat in size
# LZMA for balance in speed and good in size but long compress time

By default Sisrestore use amode 1
Set the value of amode at configuration file with the work mode number.
Example for Raw Tar archive backup type (mode 1) :

`amode=1`

== 3. Target ==

Specify your target. Be carefull.

*Attention* _Change the mode and target only. Dont touch the other line 
if you dont know what you do!_

== 4. Compatibility ==

I've test Sisrestore with some linux distro, it can run with :
 # Ubuntu from 10.04 - 12.04.
 # Slackware from 12 above.
 # Fedora 12 and above ( need xmessage ).
 # Blankon from nanggar and above.